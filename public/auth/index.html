<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2>haha</h2>
<input type="text" name="hello" value="Hello krray" id="code"><br/>
<input type="text" name="hello" value="Hello krray" id="state">
</body>
<script>
    function getPar(par){
        //获取当前URL
        var local_url = document.location.href;
        //获取要取得的get参数位置
        var get = local_url.indexOf(par +"=");
        if(get == -1){
            return false;
        }
        //截取字符串
        var get_par = local_url.slice(par.length + get + 1);
        //判断截取后的字符串是否还有其他get参数
        var nextPar = get_par.indexOf("&");
        if(nextPar != -1){
            get_par = get_par.slice(0, nextPar);
        }
        return get_par;
    }
    var code = document.getElementById('code');
    var state = document.getElementById('state');
    code.value = getPar('code');
    state.value = getPar('state');
</script>
</html>